import{f as C,d as L}from"./B0IUneNK.js";import"./C4N1bq7Z.js";import{K as e,I as _,J as E,w as t,y as n,v as T}from"./vQVsj9q0.js";import{h as q,b as o}from"./Br6rTG-1.js";import{l as G,s as S}from"./v6joBWBY.js";import{M as R}from"./D2jMiQbm.js";const N=""+new URL("../assets/Pasted image 20250605141119.C3vw9g-v.png",import.meta.url).href,H=""+new URL("../assets/Pasted image 20250605141837.DpHptVHN.png",import.meta.url).href,D=""+new URL("../assets/Pasted image 20250605141816.6VqxCZwy.png",import.meta.url).href,x=""+new URL("../assets/Pasted image 20250605142006.B-JK5LDR.png",import.meta.url).href,U=""+new URL("../assets/Pasted image 20250605163359.8JQ-AYic.png",import.meta.url).href,O=""+new URL("../assets/Pasted image 20250605165908.C-DHK52V.png",import.meta.url).href,d={title:"APIs for Everyone Workshop",description:"Learning the basics of API using Aruba New Central",date:"2025-06-17",categories:["central","automation"],published:!0,headings:[{level:2,title:"Introduction",sectionId:"introduction"},{level:2,title:"Lab 1: Creating a personal API Client In GLP",sectionId:"lab-1-creating-a-personal-api-client-in-glp"},{level:3,title:"Generating An Access Token",sectionId:"generating-an-access-token"},{level:2,title:"Lab 2: Overview of Postman",sectionId:"lab-2-overview-of-postman"},{level:2,title:"Lab 3: Requesting an API key",sectionId:"lab-3-requesting-an-api-key"},{level:3,title:"Configuring the environment variables",sectionId:"configuring-the-environment-variables"},{level:3,title:"Set the environment",sectionId:"set-the-environment"},{level:3,title:"Getting your first API key",sectionId:"getting-your-first-api-key"},{level:3,title:"Troubleshooting",sectionId:"troubleshooting"},{level:2,title:"Lab 4: Configuring your first GET request",sectionId:"lab-4-configuring-your-first-get-request"},{level:2,title:"Lab 5: Configuring a VLAN",sectionId:"lab-5-configuring-a-vlan"},{level:2,title:"Lab 6: Configuring a SSID",sectionId:"lab-6-configuring-a-ssid"},{level:2,title:"Lab 7: Auto-refreshing your GLP access token",sectionId:"lab-7-auto-refreshing-your-glp-access-token"},{level:2,title:"Internal Resources",sectionId:"internal-resources"}]},{title:M,description:j,date:z,categories:Q,published:Z,headings:X}=d;var W=C(`<h2 id="introduction">Introduction</h2> <p>The goal of this workshop is to provide you, the SE, with hands-on experience in getting started with RESTful API that are used in all of our products. This includes creating an API token, configuring your Postman client, creating your first API request, configuring and updating configurations in Aruba Central.</p> <p><a href="glossary">Glossary of Terms</a></p> <div class="callout" data-callout="note" data-collapsible="false"><div class="callout-title"><div class="callout-title-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="2" x2="22" y2="6"></line><path d="M7.5 20.5 19 9l-4-4L3.5 16.5 2 22z"></path></svg></div><div class="callout-title-text">Note</div></div><div class="callout-content"><p>If you get the following error when making an API request:</p><!></div></div> <p>There are a few scenarios where you’ll get this error:
1) This error generally means the access token you’re using has expired. If this the case, then you need to request a new access token.
2) You’re using the wrong access token for the wrong Central cluster.</p> <ul><li>You need to change the correct Environment settings for the ClientID you’re using</li> <li>Request a new access token
3) Your Personal API token has been deleted or revoked.</li> <li>You’ll need to create a new Personal API token</li> <li>Enter the new ClientId and ClientSecret in the Environments section</li> <li>Request a new access token</li></ul> <h2 id="lab-1-creating-a-personal-api-client-in-glp">Lab 1: Creating a personal API Client In GLP</h2> <p><a href="https://developer.greenlake.hpe.com/docs/greenlake/guides/public/authentication/authentication/" rel="nofollow">Greenlake Documentation</a></p> <p>By creating a personal API client, you create the client ID and client secret required to access HPE GreenLake or another HPE service’s APIs. The client ID and client secret are used to generate an access token. An access token authenticates API communication between your application and the platform.</p> <ol><li>Login to HPE GreenLake using the credentials provided by your instructor or use your own workspace.</li> <li>On the HPE GreenLake header, click the workspace menu and then select <strong>Manage Workspace</strong>.</li> <li>Select <strong>Personal API clients</strong>.</li> <li>Click <strong>Create personal API client</strong>.</li> <li>In <strong>Personal API client name</strong>, enter a name for the API client.</li> <li>Select the <strong>HPE Aruba Networking Central Internal (US West)</strong> as the <strong>Service</strong>.</li> <li>Click the <strong>Create personal API client</strong> button to continue. The <strong>Personal API client created</strong> display appears and shows that your credentials were successfully created.</li> <li>Click the <strong>Copy</strong> button next to <strong>Client ID</strong> and <strong>Client Secret</strong> and save both to a safe and secure location. HPE GreenLake does not store your client secret. If lost, you need to reset your client secret.</li> <li>Click <strong>Close</strong> to continue. You are returned to the main <strong>Personal API clients</strong> page, where you can generate the access token.</li></ol> <h3 id="generating-an-access-token">Generating An Access Token</h3> <p>On the <strong>Personal API clients</strong> page, you can view API credential details and generate access tokens. However, we’ll be configuring Postman to generate the access token so it can be saved as an environment variable. The steps below are for reference if you should need to generate an access token to do a quick test.</p> <p>Access tokens are small strings of code sent in the header of your API calls. Access tokens identify whether you (or your application) have the necessary permissions to access resources securely through an API call. Access tokens inherit the permissions of the user that created the personal API client.</p> <p>Access tokens remain valid for limited periods. HPE GreenLake tokens stay valid for 15 minutes. Tokens for all other HPE services stay valid for 120 minutes.</p> <h2 id="lab-2-overview-of-postman">Lab 2: Overview of Postman</h2> <p>Postman is a popular API development and testing platform that helps developers build, test, and manage APIs (Application Programming Interfaces). It’s widely used by software developers, testers, and API teams for working with web services and APIs.</p> <p>The software is free, but requires a login to use the software.</p> <p>There are two types of Postman clients:
1) As desktop version for <a href="https://www.postman.com/downloads/" rel="nofollow">Windows, MacOS, and Linux</a> 2) <a href="https://aruba-cloud-specialization.postman.co/workspace/APIs-For-Everyone~85940bcf-8319-45e8-b93e-13b04b1b2735/overview" rel="nofollow">Web version</a></p> <p>We <strong>recommend</strong> using the <strong>desktop version</strong> as we have seen slow performance with the web version</p> <p>Once you have the desktop version installed, download the<mark style="background: #FFF3A3A6;">(Need Link)</mark> <strong>APIs for Everyone Workshop</strong> Postman collection and import it into Postman.</p> <h2 id="lab-3-requesting-an-api-key">Lab 3: Requesting an API key</h2> <h3 id="configuring-the-environment-variables">Configuring the environment variables</h3> <p>![[Pasted image 20250605140601.png]]</p> <p>In Postman, navigate to the Environments tab on the left.</p> <ul><li>Enter your client_id and client_secret in the value fields.</li> <li>For each variable, be sure to the <code>Current value</code> is either blank or the same as Initial Value.</li> <li>Validate the baseUrl is set to: <code>https://internal.api.central.arubanetworks.com</code></li> <li>The <code>glp_token</code> variable, should be blank as it will be auto populated by Postman in the next section. Remove any data that is currently in the Current Value field for the <code>glp_token</code> variable.</li></ul> <h3 id="set-the-environment">Set the environment</h3> <p><img alt="SetEnv"/></p> <p>Once you have your variables set, select the Workshop environment from the drop on top right which may say <code>No environment</code>. This will tell Postman to use these environment variables for all your API requests.</p> <h3 id="getting-your-first-api-key">Getting your first API key</h3> <p><img alt="A local image"/></p> <p>Navigate to the <strong>Generate Access Token</strong> API request.
Collections > APIs for Everyone > Authentication > Generate Access Token</p> <p><img alt="authtoken1"/></p> <p>You’ll see under the Body of the request that the client_id and client_secret are calling the variables respectively.</p> <p>Click Send to send the API request</p> <p><img alt="SendReq"/></p> <p>If everything was configured correctly, you should see an access token in the Body of the response in Postman.  This access token has been saved as an environment variable in Workshop.</p> <p>Congratulations! You have completed your first API call using Postman.</p> <h3 id="troubleshooting">Troubleshooting</h3> <p>If you ran into an error, check the following:</p> <ul><li>Be sure you select Workshop as an environment variable. If you see No environment, then an enviornment has NOT been selected</li> <li>Be sure you have set the client_id and client_secret in the Workshop Enviornment variable.</li> <li>Double check that the <code>baseUrl</code> is set to <code>https://internal.api.central.arubanetworks.com</code> If you’re using a different Central cluster, then you’ll need to update this <code>baseUrl</code> for the correct Central cluster. A list of those URLs are located in the <a href="https://developer.arubanetworks.com/new-central/docs/getting-started-with-rest-apis" rel="nofollow">Aruba DevHub documentation</a>.</li></ul> <h2 id="lab-4-configuring-your-first-get-request">Lab 4: Configuring your first GET request</h2> <p><img alt="GETREQ"/></p> <p>The first GET request we’re going to make is to get a list of sites in Central.
Find the Sites folder and select List Sites. Note that the request type is <mark style="background: #BBFABBA6;">GET</mark> with the <code>baseUrl</code> variable used from the Environments section.</p> <p>Click <strong>SEND</strong> and to execute the API GET request.</p> <p>You should get a response similar to the following: <img alt="similar"/></p> <p>Here you see a JSON object with an items list of sites.</p> <p>Congratulations! You’ve just sent your first API GET request.</p> <h2 id="lab-5-configuring-a-vlan">Lab 5: Configuring a VLAN</h2> <h2 id="lab-6-configuring-a-ssid">Lab 6: Configuring a SSID</h2> <h2 id="lab-7-auto-refreshing-your-glp-access-token">Lab 7: Auto-refreshing your GLP access token</h2> <h2 id="internal-resources">Internal Resources</h2> <ul><li>New Central <a href="https://developer.arubanetworks.com/new-central/reference" rel="nofollow">API Reference (Swagger)</a></li> <li>Slack Channel: <a href="https://hpe.enterprise.slack.com/archives/C0257JY7VFY" rel="nofollow">#aruba-developer-community</a></li> <li>DevHub: <ul><li><a href="https://devhub.arubanetworks.com/get-started/new-central" rel="nofollow">New Central APIs</a></li> <li><a href="https://developer.arubanetworks.com/new-central/docs/postman-collection" rel="nofollow">Postman Collection</a></li></ul></li> <li>Python SDK: <a href="https://developer.arubanetworks.com/new-central/docs/getting-started-with-python" rel="nofollow">pycentral</a></li></ul>`,1);function ee(g,m){const v=G(m,["children","$$slots","$$events","$$legacy"]);R(g,S(()=>v,()=>d,{children:(f,Y)=>{var h=W(),s=e(_(h),6),u=e(t(s)),b=e(t(u));q(b,()=>`<pre class="shiki poimandres" style="background-color:#1b1e28;color:#a6accd" tabindex="0"><code><span class="line"><span>&#123;</span></span>
<span class="line"><span>   "errorCode": "HPE_GL_NETWORKING_ERROR_UNAUTHORIZED",</span></span>
<span class="line"><span>   "httpStatusCode": 401,</span></span>
<span class="line"><span>   "message": "Invalid access token",</span></span>
<span class="line"><span>   "debugId": "d3b9a0166c2b8a5890823dcf3f931978"</span></span>
<span class="line"><span>&#125;</span></span></code></pre>`),n(u),n(s);var a=e(s,46),k=t(a);n(a);var r=e(a,6),w=t(r);n(r);var i=e(r,4),y=t(i);n(i);var l=e(i,6),P=t(l);n(l);var c=e(l,14),I=t(c);n(c);var p=e(c,6),A=e(t(p));n(p),T(14),E(()=>{o(k,"src",N),o(w,"src",H),o(y,"src",D),o(P,"src",x),o(I,"src",U),o(A,"src",O)}),L(f,h)},$$slots:{default:!0}}))}export{ee as default,d as metadata};
